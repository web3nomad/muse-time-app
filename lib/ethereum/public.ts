import { ethers } from 'ethers'

export const chainId = +(process.env.NEXT_PUBLIC_CHAIN_ID ?? '31337')

const _publicRpcUrl = process.env.NEXT_PUBLIC_RPC_URL ?? 'http://localhost:8545'
export const publicProvider = new ethers.providers.JsonRpcProvider(_publicRpcUrl)

const _controllerAddress = process.env.NEXT_PUBLIC_CONTROLLER_ADDRESS ?? '0x0000000000000000000000000000000000000000'
const _controllerABI = [{"inputs":[{"internalType":"address","name":"museTimeNFT_","type":"address"},{"internalType":"string","name":"baseURI_","type":"string"},{"internalType":"address","name":"verificationAddress_","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"user","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnerUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"topicOwner","type":"address"},{"indexed":true,"internalType":"string","name":"topicSlug","type":"string"},{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":false,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"TimeTokenMinted","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"topicOwner","type":"address"}],"name":"TimeTroveCreated","type":"event"},{"inputs":[],"name":"baseURI","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"arOwnerAddress","type":"string"},{"internalType":"bytes","name":"signature","type":"bytes"}],"name":"createTimeTrove","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"mintIndex","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"valueInWei","type":"uint256"},{"internalType":"address","name":"topicOwner","type":"address"},{"internalType":"string","name":"topicSlug","type":"string"},{"internalType":"string","name":"arId","type":"string"},{"internalType":"bytes","name":"signature","type":"bytes"}],"name":"mintTimeToken","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[],"name":"museTimeNFT","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"baseURI_","type":"string"}],"name":"setBaseURI","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"setOwner","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"verificationAddress_","type":"address"}],"name":"setVerificationAddress","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"timeTokenOf","outputs":[{"components":[{"internalType":"uint256","name":"valueInWei","type":"uint256"},{"internalType":"address","name":"topicOwner","type":"address"},{"internalType":"string","name":"topicSlug","type":"string"},{"internalType":"string","name":"arId","type":"string"},{"internalType":"enum MuseTimeController.TimeTokenStatus","name":"status","type":"uint8"}],"internalType":"struct MuseTimeController.TimeToken","name":"","type":"tuple"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"topicOwner","type":"address"}],"name":"timeTroveOf","outputs":[{"components":[{"internalType":"string","name":"arOwnerAddress","type":"string"},{"internalType":"uint256","name":"balance","type":"uint256"}],"internalType":"struct MuseTimeController.TimeTrove","name":"","type":"tuple"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"tokenURI","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"verificationAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"contract IERC20","name":"token","type":"address"}],"name":"withdrawERC20","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"withdrawETH","outputs":[],"stateMutability":"nonpayable","type":"function"},{"stateMutability":"payable","type":"receive"}]
export const controllerContract = new ethers.Contract(_controllerAddress, _controllerABI, publicProvider)
